<div *ngIf="isVisible" class="fixed inset-0 z-50 flex items-center justify-center" 
     [style.background-color]="'var(--modal-overlay)'">
  <div class="rounded-lg shadow-xl max-w-md w-full mx-4 p-6"
       [style.background-color]="'var(--panel-bg)'"
       [style.color]="'var(--text-primary)'"
       [style.border]="'1px solid var(--border-color)'">
    
    <!-- Header -->
    <div class="flex items-center justify-between mb-6">
      <h2 class="text-xl font-semibold" [style.color]="'var(--text-primary)'">
        Configuração Inicial
      </h2>
    </div>

    <!-- Content -->
    <div class="mb-6">
      <p class="text-sm mb-4" [style.color]="'var(--text-secondary)'">
        Para continuar usando o sistema, precisamos que você defina seu nome.
      </p>
      
      <div class="space-y-4">
        <div>
          <label for="userName" class="block text-sm font-medium mb-2" 
                 [style.color]="'var(--text-primary)'">
            Seu Nome
          </label>
          <input
            id="userName"
            type="text"
            [(ngModel)]="userName"
            (keypress)="onKeyPress($event)"
            placeholder="Digite seu nome completo"
            class="w-full px-3 py-2 border rounded-lg focus:outline-none focus:ring-2 transition-colors"
            [style.border-color]="'var(--border-color)'"
            [style.background-color]="'var(--input-bg)'"
            [style.color]="'var(--text-primary)'"
            [style.focus-ring-color]="'var(--primary-color)'"
            [disabled]="isLoading"
          />
        </div>

        <!-- Error Message -->
        <div *ngIf="error" class="text-sm" [style.color]="'var(--error-color)'">
          {{ error }}
        </div>
      </div>
    </div>

    <!-- Actions -->
    <div class="flex gap-3">
      <button
        type="button"
        (click)="onSubmit()"
        [disabled]="isLoading || !userName.trim()"
        class="flex-1 px-4 py-2 text-sm font-medium rounded-lg disabled:opacity-50 disabled:cursor-not-allowed transition-colors"
        [style.background-color]="'var(--primary-color)'"
        [style.color]="'var(--primary-text)'"
        [style.border]="'1px solid var(--primary-color)'"
      >
        <span *ngIf="!isLoading">Continuar</span>
        <span *ngIf="isLoading" class="flex items-center justify-center">
          <div class="animate-spin rounded-full h-4 w-4 border-b-2 mr-2"
               [style.border-color]="'var(--primary-text)'"></div>
          Salvando...
        </span>
      </button>
    </div>

    <!-- Info -->
    <div class="mt-4 p-3 rounded-lg text-sm"
         [style.background-color]="'var(--info-bg)'"
         [style.color]="'var(--info-text)'">
      <p class="text-xs">
        <strong>Nota:</strong> Este nome será usado em todo o sistema. 
        Você poderá alterá-lo posteriormente nas configurações do perfil.
      </p>
    </div>
  </div>
</div>
